{
  "swagger": "2.0",
  "schemes": [
    "http",
    "https"
  ],
  "host": "",
  "basePath": "/",
  "info": {
    "description": "Welcome to the SolarCoin community! This API is designed for affiliates and large solar producers to file their claims programmatically. If you haven’t already, you’ll need to register your facility and receive an access token prior to claiming.",
    "version": "1.0.0",
    "title": "Solarcoin Integration",
    "termsOfService": "https://solarcoin.org/",
    "contact": {
      "url": "https://solarcoin.org/contact"
    },
    "x-logo": {
      "url": "https://solarcoin.org/sites/default/files/slr-logo.png"
    }
  },
  "produces": [
    "application/json"
  ],
  "consumes": [
    "application/json"
  ],
  "tags": [
    {
      "name": "Claim",
      "description": "Operations that submit claims"
    },
    {
      "name": "Uuid",
      "description": "Operations concerning uuids"
    },
    {
      "name": "Devices",
      "description": "Operations concerning Devices"
    },
    {
      "name": "Integrations",
      "description": "Operations that handle integrations"
    },
    {
      "name": "Projects",
      "description": "Operations that process projects"
    }
  ],
  "securityDefinitions": {
    "basicAuth": {
      "type": "basic"
    }
  },
  "security": [
    {
      "basicAuth": [

      ]
    }
  ],
  "paths": {
    "/claim/": {
      "post": {
        "tags": [
          "Claim"
        ],
        "summary": "submit a claim",
        "operationId": "submitClaim",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RegistrationRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/RegistrationResponse"
            }
          }
        }
      }
    },
    "/claim/batch/": {
      "post": {
        "tags": [
          "Claim"
        ],
        "summary": "submit a bath of claims",
        "operationId": "submitClaimsBatch",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/RegistrationRequest"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/RegistrationResponse"
              }
            }
          }
        }
      }
    },
    "/claim/actual/": {
      "post": {
        "tags": [
          "Claim"
        ],
        "summary": "submit a real-time claim",
        "operationId": "submitActualClaim",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ActualClaim"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            }
          }
        }
      }
    },
    "/claim/actual/batch/": {
      "post": {
        "tags": [
          "Claim"
        ],
        "summary": "submit a batch of real-time claims",
        "operationId": "submitActualClaimsBatch",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ActualClaim"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            }
          }
        }
      }
    },
    "/uuid/": {
      "get": {
        "tags": [
          "Uuid"
        ],
        "summary": "generates a new UUID",
        "operationId": "getUuid",
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/UUIDResponse"
            }
          }
        }
      }
    },
    "/uuid/batch/": {
      "get": {
        "tags": [
          "Uuid"
        ],
        "summary": "generate a batch of UUIDs",
        "operationId": "getUuidBatch",
        "parameters": [
          {
            "name": "batchSize",
            "in": "query",
            "type": "integer",
            "default": 10
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/UUIDBatchResponse"
            }
          }
        }
      }
    },
    "/devices/{integration}/": {
      "post": {
        "tags": [
          "Devices"
        ],
        "summary": "submit real-time claims for an integration",
        "operationId": "postDevice",
        "parameters": [
          {
            "name": "integration",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ActualClaim"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            }
          },
          "400": {
            "description": "bad request",
            "headers": {
            },
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "/devices/{integration}/{deviceID}": {
      "get": {
        "tags": [
          "Devices"
        ],
        "summary": "get total claims of an integration for the last period",
        "operationId": "getDevice",
        "parameters": [
          {
            "name": "integration",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "deviceID",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/ActualClaimsResponse"
            }
          }
        }
      }
    },
    "/devices/smappee/{integration}/{period}": {
      "get": {
        "tags": [
          "Devices"
        ],
        "summary": "get total claims for the given period",
        "operationId": "getSmappeeInfo",
        "parameters": [
          {
            "name": "integration",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "period",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/ActualClaimsResponse"
            }
          }
        }
      }
    },
    "/integrations/": {
      "post": {
        "tags": [
          "Integrations"
        ],
        "summary": "add an integration",
        "operationId": "postIntegrations",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/IntegrationRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/Affiliate"
            }
          },
          "404": {
            "description": "not found",
            "headers": {
            }
          },
          "400": {
            "description": "bad request",
            "headers": {
            }
          }
        }
      },
      "put": {
        "tags": [
          "Integrations"
        ],
        "summary": "update an integration",
        "operationId": "putIntegrations",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/IntegrationRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/Affiliate"
            }
          },
          "404": {
            "description": "not found",
            "headers": {
            }
          },
          "400": {
            "description": "bad request",
            "headers": {
            }
          }
        }
      }
    },
    "/projects/update/": {
      "post": {
        "tags": [
          "Projects"
        ],
        "summary": "update a project",
        "operationId": "updateProjects",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Project"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/Project"
            }
          },
          "404": {
            "description": "not found",
            "headers": {
            }
          },
          "400": {
            "description": "bad request",
            "headers": {
            }
          }
        }
      }
    },
    "/projects/{projectID}/deactivate": {
      "post": {
        "tags": [
          "Projects"
        ],
        "summary": "deactive a project",
        "operationId": "deactiveProject",
        "parameters": [
          {
            "name": "projectID",
            "in": "path",
            "description": "The name that needs to be updated",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Project"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
            },
            "schema": {
              "$ref": "#/definitions/Project"
            }
          },
          "404": {
            "description": "not found",
            "headers": {
            }
          },
          "400": {
            "description": "bad request",
            "headers": {
            }
          }
        }
      }
    }
  },
  "definitions": {
    "RegistrationRequest": {
      "description": "A claim to be registered",
      "type": "object",
      "properties": {
        "firstName": {
          "description": "User first name",
          "type": "string"
        },
        "lastName": {
          "description": "User last name",
          "type": "string"
        },
        "projects": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Project"
          }
        },
        "bounty": {
          "$ref": "#/definitions/Affiliate"
        }
      }
    },
    "RegistrationResponse": {
      "description": "A response to a registered claim",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "affiliate": {
          "type": "string"
        },
        "claimant": {
          "$ref": "#/definitions/RegistrationRequest"
        }
      }
    },
    "Affiliate": {
      "description": "An affiliate",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "address": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "zipCode": {
          "type": "string"
        },
        "info": {
          "type": "string"
        },
        "codename": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "webHook": {
          "type": "string"
        }
      }
    },
    "Project": {
      "description": "A project",
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "zipCode": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "nameplate": {
          "type": "number"
        },
        "installDate": {
          "type": "string"
        },
        "walletAddress": {
          "type": "string"
        },
        "documentation": {
          "type": "string"
        },
        "deviceID": {
          "type": "string"
        },
        "legalOwner": {
          "type": "string"
        },
        "claimantRelationship": {
          "type": "string"
        },
        "ofacCompliant": {
          "type": "boolean"
        }
      }
    },
    "ActualClaim": {
      "description": "Real-time claim",
      "type": "object",
      "properties": {
        "logTime": {
          "type": "integer"
        },
        "kwh": {
          "type": "number"
        },
        "deviceId": {
          "type": "string"
        }
      }
    },
    "UUIDResponse": {
      "description": "affiliate's UUID info",
      "type": "object",
      "properties": {
        "UUID": {
          "type": "string"
        }
      }
    },
    "UUIDBatchResponse": {
      "description": "list of of affiliate's UUID info",
      "type": "object",
      "properties": {
        "batch": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "ActualClaimsResponse": {
      "description": "total coins info",
      "type": "object",
      "properties": {
        "totalCoins": {
          "type": "number"
        }
      }
    },
    "IntegrationRequest": {
      "type": "object",
      "properties": {
        "integration": {
          "type": "string"
        },
        "webhook": {
          "type": "string"
        }
      }
    }
  }
}